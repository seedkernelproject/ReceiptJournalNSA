"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var forms_1 = require("@angular/forms");
var NewReceiptComponent = /** @class */ (function () {
    function NewReceiptComponent(formBuilder) {
        this.formBuilder = formBuilder;
        this.totalcost = 0;
        this.profit = 0;
        this.newreceipt = this.formBuilder.group({
            inputdate: Date.now(),
            receiptdate: '',
            clientname: ['', forms_1.Validators.required],
            origin: ['', forms_1.Validators.required],
            destination: ['', forms_1.Validators.required],
            totalprice: ['', forms_1.Validators.required],
            drivername: ['', forms_1.Validators.required],
            platenumber: ['', forms_1.Validators.required],
            drivercost: ['', forms_1.Validators.required],
            othercost: ['', forms_1.Validators.required],
            totalcost: 0,
            profit: 0,
            additionalremarks: '',
            status: false,
            paiddate: '',
        });
    }
    NewReceiptComponent.prototype.ngOnInit = function () {
    };
    NewReceiptComponent.prototype.onTextFieldChange = function (args) {
        var TextField = args.object;
        var a = TextField.id;
        this.newreceipt.patchValue({ a: TextField.text });
        if (TextField.id == "totalprice") {
            this.profit = parseFloat(TextField.text) - parseFloat(this.newreceipt.value.drivercost) - parseFloat(this.newreceipt.value.othercost);
            this.newreceipt.patchValue({ profit: this.profit });
        }
        if (TextField.id == "drivercost") {
            this.totalcost = parseFloat(TextField.text) + parseFloat(this.newreceipt.value.othercost);
            this.profit = parseFloat(this.newreceipt.value.totalprice) - parseFloat(TextField.text) - parseFloat(this.newreceipt.value.othercost);
            this.newreceipt.patchValue({ totalcost: this.profit });
            this.newreceipt.patchValue({ profit: this.profit });
        }
        if (TextField.id == "othercost") {
            this.totalcost = parseFloat(this.newreceipt.value.drivercost) + parseFloat(TextField.text);
            this.profit = parseFloat(this.newreceipt.value.totalprice) - parseFloat(this.newreceipt.value.drivercost) - parseFloat(TextField.text);
            this.newreceipt.patchValue({ totalcost: this.profit });
            this.newreceipt.patchValue({ profit: this.profit });
        }
    };
    NewReceiptComponent.prototype.onDatePickerSelect = function (args) {
        var DatePicker = args.object;
        console.log(DatePicker._getValue);
    };
    NewReceiptComponent.prototype.onSubmit = function () {
        console.log(this.newreceipt.valid);
        var receiptdate = this.datepicker.nativeElement;
        this.newreceipt.patchValue({ receiptdate: receiptdate.year + "-" + receiptdate.month + "-" + receiptdate.day });
        console.log(JSON.stringify(this.newreceipt.value));
    };
    __decorate([
        core_1.ViewChild("datepicker"),
        __metadata("design:type", core_1.ElementRef)
    ], NewReceiptComponent.prototype, "datepicker", void 0);
    NewReceiptComponent = __decorate([
        core_1.Component({
            selector: 'app-menu',
            moduleId: module.id,
            templateUrl: './newreceipt.component.html',
            styleUrls: ['./newreceipt.component.css']
        }),
        __metadata("design:paramtypes", [forms_1.FormBuilder])
    ], NewReceiptComponent);
    return NewReceiptComponent;
}());
exports.NewReceiptComponent = NewReceiptComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmV3cmVjZWlwdC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJuZXdyZWNlaXB0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHNDQUFtRztBQUNuRyx3Q0FBb0U7QUFXcEU7SUFNRSw2QkFBb0IsV0FBd0I7UUFBeEIsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUFKNUMsY0FBUyxHQUFTLENBQUMsQ0FBQztRQUNwQixXQUFNLEdBQVMsQ0FBQyxDQUFDO1FBSWYsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQztZQUN2QyxTQUFTLEVBQVUsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUM3QixXQUFXLEVBQVEsRUFBRTtZQUNyQixVQUFVLEVBQVMsQ0FBQyxFQUFFLEVBQUUsa0JBQVUsQ0FBQyxRQUFRLENBQUM7WUFDNUMsTUFBTSxFQUFhLENBQUMsRUFBRSxFQUFFLGtCQUFVLENBQUMsUUFBUSxDQUFDO1lBQzVDLFdBQVcsRUFBUSxDQUFDLEVBQUUsRUFBRSxrQkFBVSxDQUFDLFFBQVEsQ0FBQztZQUM1QyxVQUFVLEVBQVMsQ0FBQyxFQUFFLEVBQUUsa0JBQVUsQ0FBQyxRQUFRLENBQUM7WUFDNUMsVUFBVSxFQUFTLENBQUMsRUFBRSxFQUFFLGtCQUFVLENBQUMsUUFBUSxDQUFDO1lBQzVDLFdBQVcsRUFBUSxDQUFDLEVBQUUsRUFBRSxrQkFBVSxDQUFDLFFBQVEsQ0FBQztZQUM1QyxVQUFVLEVBQVMsQ0FBQyxFQUFFLEVBQUUsa0JBQVUsQ0FBQyxRQUFRLENBQUM7WUFDNUMsU0FBUyxFQUFVLENBQUMsRUFBRSxFQUFFLGtCQUFVLENBQUMsUUFBUSxDQUFDO1lBQzVDLFNBQVMsRUFBVSxDQUFDO1lBQ3BCLE1BQU0sRUFBYSxDQUFDO1lBQ3BCLGlCQUFpQixFQUFFLEVBQUU7WUFDckIsTUFBTSxFQUFhLEtBQUs7WUFDeEIsUUFBUSxFQUFXLEVBQUU7U0FDdEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELHNDQUFRLEdBQVI7SUFDQSxDQUFDO0lBRUQsK0NBQWlCLEdBQWpCLFVBQWtCLElBQUk7UUFDcEIsSUFBSSxTQUFTLEdBQWMsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUN2QyxJQUFJLENBQUMsR0FBRyxTQUFTLENBQUMsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLEVBQUMsQ0FBQyxFQUFHLFNBQVMsQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO1FBQ2pELEVBQUUsQ0FBQSxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUUsWUFBWSxDQUFDLENBQUEsQ0FBQztZQUM3QixJQUFJLENBQUMsTUFBTSxHQUFFLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNySSxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFDLE1BQU0sRUFBRyxJQUFJLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztRQUNyRCxDQUFDO1FBQ0QsRUFBRSxDQUFBLENBQUMsU0FBUyxDQUFDLEVBQUUsSUFBRSxZQUFZLENBQUMsQ0FBQSxDQUFDO1lBQzdCLElBQUksQ0FBQyxTQUFTLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDMUYsSUFBSSxDQUFDLE1BQU0sR0FBRSxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDckksSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsRUFBQyxTQUFTLEVBQUcsSUFBSSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7WUFDdEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsRUFBQyxNQUFNLEVBQUcsSUFBSSxDQUFDLE1BQU0sRUFBQyxDQUFDLENBQUM7UUFDckQsQ0FBQztRQUNELEVBQUUsQ0FBQSxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUUsV0FBVyxDQUFDLENBQUEsQ0FBQztZQUM1QixJQUFJLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsR0FBRyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNGLElBQUksQ0FBQyxNQUFNLEdBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsR0FBRyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3RJLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLEVBQUMsU0FBUyxFQUFHLElBQUksQ0FBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDO1lBQ3RELElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLEVBQUMsTUFBTSxFQUFHLElBQUksQ0FBQyxNQUFNLEVBQUMsQ0FBQyxDQUFDO1FBQ3JELENBQUM7SUFBRSxDQUFDO0lBRU4sZ0RBQWtCLEdBQWxCLFVBQW1CLElBQUk7UUFDckIsSUFBSSxVQUFVLEdBQWUsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUN6QyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQTtJQUNuQyxDQUFDO0lBRUQsc0NBQVEsR0FBUjtRQUNFLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQyxJQUFJLFdBQVcsR0FBZSxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQztRQUM1RCxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFDLFdBQVcsRUFBRyxXQUFXLENBQUMsSUFBSSxHQUFDLEdBQUcsR0FBQyxXQUFXLENBQUMsS0FBSyxHQUFDLEdBQUcsR0FBQyxXQUFXLENBQUMsR0FBRyxFQUFDLENBQUMsQ0FBQztRQUV2RyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUF6RHdCO1FBQXhCLGdCQUFTLENBQUMsWUFBWSxDQUFDO2tDQUFhLGlCQUFVOzJEQUFBO0lBSnBDLG1CQUFtQjtRQU4vQixnQkFBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLFVBQVU7WUFDcEIsUUFBUSxFQUFFLE1BQU0sQ0FBQyxFQUFFO1lBQ25CLFdBQVcsRUFBRSw2QkFBNkI7WUFDMUMsU0FBUyxFQUFFLENBQUMsNEJBQTRCLENBQUM7U0FDMUMsQ0FBQzt5Q0FPaUMsbUJBQVc7T0FOakMsbUJBQW1CLENBK0QvQjtJQUFELDBCQUFDO0NBQUEsQUEvREQsSUErREM7QUEvRFksa0RBQW1CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIEluamVjdCxDaGFuZ2VEZXRlY3RvclJlZiwgRWxlbWVudFJlZiwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBWYWxpZGF0b3JzLCBGb3JtQnVpbGRlciwgRm9ybUdyb3VwIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgVGV4dEZpZWxkIH0gZnJvbSAndWkvdGV4dC1maWVsZCc7XG5pbXBvcnQgeyBUZXh0VmlldyB9IGZyb20gJ3VpL3RleHQtdmlldyc7XG5pbXBvcnQgeyBEYXRlUGlja2VyIH0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdWkvZGF0ZS1waWNrZXJcIjtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYXBwLW1lbnUnLFxuICBtb2R1bGVJZDogbW9kdWxlLmlkLFxuICB0ZW1wbGF0ZVVybDogJy4vbmV3cmVjZWlwdC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL25ld3JlY2VpcHQuY29tcG9uZW50LmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIE5ld1JlY2VpcHRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBuZXdyZWNlaXB0OiBGb3JtR3JvdXA7XG4gIHRvdGFsY29zdDogbnVtYmVyPTA7XG4gIHByb2ZpdDogbnVtYmVyPTA7XG4gIEBWaWV3Q2hpbGQoXCJkYXRlcGlja2VyXCIpIGRhdGVwaWNrZXI6IEVsZW1lbnRSZWZcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZvcm1CdWlsZGVyOiBGb3JtQnVpbGRlcikgeyAgXG4gICAgdGhpcy5uZXdyZWNlaXB0ID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XG4gICAgICBpbnB1dGRhdGU6ICAgICAgICAgRGF0ZS5ub3coKSxcbiAgICAgIHJlY2VpcHRkYXRlOiAgICAgICAnJyxcbiAgICAgIGNsaWVudG5hbWU6ICAgICAgICBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxuICAgICAgb3JpZ2luOiAgICAgICAgICAgIFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXG4gICAgICBkZXN0aW5hdGlvbjogICAgICAgWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgIHRvdGFscHJpY2U6ICAgICAgICBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxuICAgICAgZHJpdmVybmFtZTogICAgICAgIFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXG4gICAgICBwbGF0ZW51bWJlcjogICAgICAgWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgIGRyaXZlcmNvc3Q6ICAgICAgICBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxuICAgICAgb3RoZXJjb3N0OiAgICAgICAgIFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXG4gICAgICB0b3RhbGNvc3Q6ICAgICAgICAgMCxcbiAgICAgIHByb2ZpdDogICAgICAgICAgICAwLFxuICAgICAgYWRkaXRpb25hbHJlbWFya3M6ICcnLFxuICAgICAgc3RhdHVzOiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgcGFpZGRhdGU6ICAgICAgICAgICcnLFxuICAgIH0pOyAgXG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgfVxuXG4gIG9uVGV4dEZpZWxkQ2hhbmdlKGFyZ3Mpe1xuICAgIGxldCBUZXh0RmllbGQgPSA8VGV4dEZpZWxkPmFyZ3Mub2JqZWN0O1xuICAgIHZhciBhID0gVGV4dEZpZWxkLmlkO1xuICAgIHRoaXMubmV3cmVjZWlwdC5wYXRjaFZhbHVlKHthIDogVGV4dEZpZWxkLnRleHR9KTtcbiAgICBpZihUZXh0RmllbGQuaWQ9PVwidG90YWxwcmljZVwiKXtcbiAgICAgIHRoaXMucHJvZml0PSBwYXJzZUZsb2F0KFRleHRGaWVsZC50ZXh0KSAtIHBhcnNlRmxvYXQodGhpcy5uZXdyZWNlaXB0LnZhbHVlLmRyaXZlcmNvc3QpIC0gcGFyc2VGbG9hdCh0aGlzLm5ld3JlY2VpcHQudmFsdWUub3RoZXJjb3N0KTtcbiAgICAgIHRoaXMubmV3cmVjZWlwdC5wYXRjaFZhbHVlKHtwcm9maXQgOiB0aGlzLnByb2ZpdH0pO1xuICAgIH1cbiAgICBpZihUZXh0RmllbGQuaWQ9PVwiZHJpdmVyY29zdFwiKXtcbiAgICAgIHRoaXMudG90YWxjb3N0ID0gcGFyc2VGbG9hdChUZXh0RmllbGQudGV4dCkgKyBwYXJzZUZsb2F0KHRoaXMubmV3cmVjZWlwdC52YWx1ZS5vdGhlcmNvc3QpO1xuICAgICAgdGhpcy5wcm9maXQ9IHBhcnNlRmxvYXQodGhpcy5uZXdyZWNlaXB0LnZhbHVlLnRvdGFscHJpY2UpIC0gcGFyc2VGbG9hdChUZXh0RmllbGQudGV4dCkgLSBwYXJzZUZsb2F0KHRoaXMubmV3cmVjZWlwdC52YWx1ZS5vdGhlcmNvc3QpO1xuICAgICAgdGhpcy5uZXdyZWNlaXB0LnBhdGNoVmFsdWUoe3RvdGFsY29zdCA6IHRoaXMucHJvZml0fSk7XG4gICAgICB0aGlzLm5ld3JlY2VpcHQucGF0Y2hWYWx1ZSh7cHJvZml0IDogdGhpcy5wcm9maXR9KTtcbiAgICB9XG4gICAgaWYoVGV4dEZpZWxkLmlkPT1cIm90aGVyY29zdFwiKXtcbiAgICAgIHRoaXMudG90YWxjb3N0ID0gcGFyc2VGbG9hdCh0aGlzLm5ld3JlY2VpcHQudmFsdWUuZHJpdmVyY29zdCkgKyBwYXJzZUZsb2F0KFRleHRGaWVsZC50ZXh0KTtcbiAgICAgIHRoaXMucHJvZml0PSBwYXJzZUZsb2F0KHRoaXMubmV3cmVjZWlwdC52YWx1ZS50b3RhbHByaWNlKSAtIHBhcnNlRmxvYXQodGhpcy5uZXdyZWNlaXB0LnZhbHVlLmRyaXZlcmNvc3QpIC0gcGFyc2VGbG9hdChUZXh0RmllbGQudGV4dCk7XG4gICAgICB0aGlzLm5ld3JlY2VpcHQucGF0Y2hWYWx1ZSh7dG90YWxjb3N0IDogdGhpcy5wcm9maXR9KTtcbiAgICAgIHRoaXMubmV3cmVjZWlwdC5wYXRjaFZhbHVlKHtwcm9maXQgOiB0aGlzLnByb2ZpdH0pO1xuICAgIH0gIH1cblxuICBvbkRhdGVQaWNrZXJTZWxlY3QoYXJncyl7XG4gICAgbGV0IERhdGVQaWNrZXIgPSA8RGF0ZVBpY2tlcj5hcmdzLm9iamVjdDtcbiAgICBjb25zb2xlLmxvZyhEYXRlUGlja2VyLl9nZXRWYWx1ZSlcbiAgfVxuICBcbiAgb25TdWJtaXQoKSB7XG4gICAgY29uc29sZS5sb2codGhpcy5uZXdyZWNlaXB0LnZhbGlkKTtcbiAgICBsZXQgcmVjZWlwdGRhdGUgPSA8RGF0ZVBpY2tlcj50aGlzLmRhdGVwaWNrZXIubmF0aXZlRWxlbWVudDtcbiAgICB0aGlzLm5ld3JlY2VpcHQucGF0Y2hWYWx1ZSh7cmVjZWlwdGRhdGUgOiByZWNlaXB0ZGF0ZS55ZWFyK1wiLVwiK3JlY2VpcHRkYXRlLm1vbnRoK1wiLVwiK3JlY2VpcHRkYXRlLmRheX0pO1xuXG4gICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkodGhpcy5uZXdyZWNlaXB0LnZhbHVlKSk7XG4gIH1cblxufSJdfQ==